# 味ばあ（Ajibaa） - プロジェクト概要
プロジェクト基本情報
プロジェクト名: 味ばあ (Ajibaa)
リポジトリ名: ajibaa
コンセプト: 日本全国のおばあちゃんの味と郷土の食文化を次世代に残す文化継承プラットフォーム
ミッション: 失われゆく日本の家庭料理と地域の食文化を記録・保存し、おばあちゃんから孫世代へ「愛の味」をリアルタイムで継承する

## 知見管理システム
このプロジェクトでは以下のファイルで知見を体系的に管理しています：

### `.claude/context.md`
- プロジェクトの背景、目的、制約条件
- 技術スタック選定理由
- ビジネス要件や技術的制約

### `.claude/project-knowledge.md`
- 実装パターンや設計決定の知見
- アーキテクチャの選択理由
- 避けるべきパターンやアンチパターン

### `.claude/project-improvements.md`
- 過去の試行錯誤の記録
- 失敗した実装とその原因
- 改善プロセスと結果

### `.claude/common-patterns.md`
- 頻繁に使用するコマンドパターン
- 定型的な実装テンプレート

### `ARD/`（20241214追加）
- アーキテクチャ記録文書（Architecture Record Documents）
- 重要な技術決定や実装の背景を記録
- ファイル命名規則：`ARD-YYYYMMDD-brief-description.md`
- 新機能設計・既存機能変更・技術課題解決時に作成

**重要**: 新しい実装や重要な決定を行った際は、該当するファイルを更新してください。また、変更したタイミングがわかるような工夫をしてください。YYYYMMDDを表記するなど。

ユーザーから今回限りではなく常に対応が必要だと思われる指示を受けた場合：

1. 「これを標準のルールにしますか？」と質問する
2. YESの回答を得た場合、CLAUDE.mdに追加ルールとして記載する
3. 以降は標準ルールとして常に適用する

このプロセスにより、プロジェクトのルールを継続的に改善していきます。

## 🚨 重要な作業ルール 🚨（20250615更新）

### 必須のワークフロー
1. **作業開始前**: 必ずこのCLAUDE.mdを参照する
2. **新機能開発**: feature branchを作成する
3. **テスト駆動開発**: 必ずテストを先に書く（Red-Green-Refactor）
4. **作業完了後**: 必ずGit管理を行う（commit → merge → **push**）

### 🔴 絶対に忘れてはいけないこと
- **作業ごとに必ずこのドキュメントを参照する**
- **ひと段落したら必ずリモートプッシュまで行う**
- Git管理 = commit → merge → **push origin main**（リモートプッシュ必須）

## Git開発フロー標準ルール（20241206追加）

機能開発時は以下のブランチ管理フローを必ず適用する：

1. **機能開発開始時**
   - `git checkout -b feature/機能名` でブランチを作成
   - ブランチ名は機能内容が分かりやすい名前にする

2. **開発中**
   - 適切な粒度で定期的にコミット
   - コミットメッセージは変更内容が明確に分かるよう記載

3. **機能完成時**
   - `git push origin feature/機能名` でリモートにブランチをプッシュ
   - 必要に応じてプルリクエスト作成やmainブランチへのマージを検討

4. **開発完了後**
   - ローカルのfeatureブランチは削除
   - mainブランチに戻って次の開発に備える
   - **必ずmainブランチをリモートにプッシュする**

## テスト駆動開発（TDD）標準ルール（20250615追加）

当プロジェクトではTDD（Test-Driven Development）を意識した開発を必須とする：

1. **開発フロー**
   - Red: テストを先に書き、失敗することを確認
   - Green: テストを通すための最小限のコードを実装
   - Refactor: コードをリファクタリングして品質向上

2. **テストファイル構成**
   ```
   __tests__/
   ├── components/          # コンポーネントテスト
   ├── lib/                 # ユーティリティ関数テスト
   ├── convex/              # Convex関数テスト
   └── e2e/                 # E2Eテスト
   ```

3. **テスト作成ルール**
   - 新機能実装前に必ずテストを作成
   - テストファイルは対応するソースファイルと同じディレクトリ構造
   - カバレッジ80%以上を目標とする

4. **テスト実行**
   - `npm run test` でユニットテスト実行
   - `npm run test:watch` で監視モード
   - CI/CDでのテスト実行を必須とする
